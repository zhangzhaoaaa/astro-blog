---
/**
 * PodcastLayout
 * 
 * Common layout structure for podcast pages
 * Includes breadcrumbs and consistent spacing
 */

import Layout from "./Layout.astro";

export interface Props {
  title: string;
  description?: string;
  breadcrumbs?: Array<{ label: string; href?: string }>;
}

const { title, description, breadcrumbs = [] } = Astro.props;
---

<Layout title={title} description={description}>
  <div class="mx-auto w-full max-w-5xl px-4">
    {/* Breadcrumbs */}
    {breadcrumbs.length > 0 && (
      <nav class="py-4 text-sm" aria-label="Breadcrumb">
        <ol class="flex items-center gap-2 text-skin-base opacity-60">
          <li>
            <a
              href="/"
              class="transition-colors hover:text-skin-accent hover:opacity-100"
            >
              首页
            </a>
          </li>
          <li aria-hidden="true">/</li>
          <li>
            <a
              href="/podcasts"
              class="transition-colors hover:text-skin-accent hover:opacity-100"
            >
              我的播客
            </a>
          </li>
          {breadcrumbs.map((crumb) => (
            <li class="flex items-center gap-2">
              <span aria-hidden="true">/</span>
              {crumb.href ? (
                <a
                  href={crumb.href}
                  class="transition-colors hover:text-skin-accent hover:opacity-100"
                >
                  {crumb.label}
                </a>
              ) : (
                <span class="font-medium text-skin-accent opacity-100">
                  {crumb.label}
                </span>
              )}
            </li>
          ))}
        </ol>
      </nav>
    )}

    {/* Main Content Slot */}
    <main id="main-content" class="pb-12">
      <slot />
    </main>
  </div>
</Layout>

<style>
  /* Breadcrumb hover effects */
  nav a:hover {
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
  }
</style>
